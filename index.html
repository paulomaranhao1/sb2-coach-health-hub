
<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SB2coach.ai - Seu Companheiro de Emagrecimento</title>
    <meta name="description" content="Aplicativo completo para acompanhar sua jornada de emagrecimento com SB2coach.ai" />
    <meta name="author" content="SB2coach.ai" />
    
    <!-- Permissions Policy para suprimir warnings de recursos não utilizados -->
    <meta http-equiv="Permissions-Policy" content="ambient-light-sensor=(), battery=(), vr=(), xr-spatial-tracking=(), magnetometer=(), gyroscope=(), accelerometer=(), camera=(), microphone=(), geolocation=(), payment=(), usb=(), serial=(), bluetooth=(), midi=(), wake-lock=(), screen-wake-lock=()">
    
    <!-- Content Security Policy otimizada -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: blob:; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://*.lovableproject.com https://*.supabase.co; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: blob: https:; connect-src 'self' https://*.lovableproject.com https://*.supabase.co wss://*.lovableproject.com wss://*.supabase.co; frame-src 'self' https:">

    <meta property="og:title" content="SB2coach.ai - Seu Companheiro de Emagrecimento" />
    <meta property="og:description" content="Aplicativo completo para acompanhar sua jornada de emagrecimento com SB2coach.ai" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://sb2coach.com" />
    
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@sb2coach" />
    
    <!-- Favicon -->
    <link rel="icon" href="/lovable-uploads/a9ae0ae0-953a-4e4d-afbd-5f6bf88b1dc6.png" type="image/png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Sistema avançado de supressão de console warnings -->
    <script>
      (function() {
        'use strict';
        
        // Lista de warnings que devem ser suprimidos
        const SUPPRESSED_WARNINGS = [
          'ambient-light-sensor',
          'battery',
          'vr',
          'xr-spatial-tracking',
          'sandbox',
          'facebook',
          'fbcdn',
          'connect.facebook.net',
          'tr?id=',
          'firebase',
          'firestore',
          'googleapis',
          'google-analytics',
          'googletagmanager',
          'doubleclick',
          'permissions policy',
          'feature policy',
          'document.domain',
          'Mixed Content',
          'blocked:csp',
          'ERR_BLOCKED_BY_CLIENT',
          'net::ERR_NAME_NOT_RESOLVED'
        ];
        
        // Lista de erros críticos que NUNCA devem ser suprimidos
        const CRITICAL_ERRORS = [
          'TypeError',
          'ReferenceError',
          'SyntaxError',
          'RangeError',
          'EvalError',
          'URIError'
        ];
        
        function shouldSuppressMessage(message) {
          const messageStr = String(message).toLowerCase();
          
          // Nunca suprimir erros críticos
          if (CRITICAL_ERRORS.some(error => messageStr.includes(error.toLowerCase()))) {
            return false;
          }
          
          // Suprimir warnings conhecidos
          return SUPPRESSED_WARNINGS.some(warning => messageStr.includes(warning));
        }
        
        // Interceptar console.warn
        const originalWarn = console.warn;
        console.warn = function(...args) {
          const message = args.join(' ');
          if (!shouldSuppressMessage(message)) {
            originalWarn.apply(console, args);
          }
        };
        
        // Interceptar console.error para filtrar apenas erros não-críticos
        const originalError = console.error;
        console.error = function(...args) {
          const message = args.join(' ');
          if (!shouldSuppressMessage(message)) {
            originalError.apply(console, args);
          }
        };
        
        // Interceptar window.onerror para filtrar erros de recursos externos
        window.addEventListener('error', function(event) {
          if (event.filename && shouldSuppressMessage(event.filename)) {
            event.preventDefault();
            return true;
          }
        }, true);
        
        // Interceptar unhandled promise rejections
        window.addEventListener('unhandledrejection', function(event) {
          if (event.reason && shouldSuppressMessage(String(event.reason))) {
            event.preventDefault();
          }
        });
        
        // Remover tentativas de conexão com Facebook e outros serviços externos
        const originalFetch = window.fetch;
        window.fetch = function(input, init) {
          const url = typeof input === 'string' ? input : input.url;
          if (shouldSuppressMessage(url)) {
            return Promise.reject(new Error('Blocked external service'));
          }
          return originalFetch.apply(this, arguments);
        };
        
      })();
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
